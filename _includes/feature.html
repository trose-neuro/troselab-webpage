<div
  class="feature"
  {% if include.flip %}
    data-flip
  {% endif %}
>
  {% assign feature_href = include.link | default: "" | strip %}
  {% assign feature_has_scheme = false %}
  {% assign feature_external = false %}
  {% if feature_href contains "mailto:" or feature_href contains "tel:" or feature_href contains "://" %}
    {% assign feature_has_scheme = true %}
  {% endif %}
  {% assign feature_prefix = feature_href | slice: 0, 4 %}
  {% if feature_has_scheme == false and feature_prefix == "www." %}
    {% assign feature_href = "https://" | append: feature_href %}
    {% assign feature_has_scheme = true %}
  {% endif %}
  {% if feature_href contains "http://" or feature_href contains "https://" %}
    {% assign feature_external = true %}
  {% endif %}
  <a
    {% if feature_href != "" %}
      {% if feature_has_scheme %}
        href="{{ feature_href }}"
      {% else %}
        href="{{ feature_href | relative_url | uri_escape }}"
      {% endif %}
      {% if feature_external %}
        target="_blank"
        rel="noopener noreferrer"
      {% endif %}
    {% endif %}
    class="feature-image"
    aria-label="{{ include.title | default: "feature link" | regex_strip }}"
  >
    {% assign feature_sizes = "(max-width: 900px) calc(100vw - 48px), 42vw" %}
    {%
      include responsive-image.html
      image=include.image
      alt=include.title
      sizes=feature_sizes
      loading="lazy"
    %}
  </a>
  <div class="feature-text">
    {% if include.title %}
      <p class="feature-title">{{ include.title }}</p>
    {% endif %}
    {{ include.text | markdownify }}
  </div>
</div>
